---
title: "Hypothesis Testing with scipy.stats"
author: "Isabelle Perez"
toc: true
number-sections: true
highlight-style: pygments
format: 
  html: 
    code-fold: true
    html-math-method: katex
  pdf: 
    geometry: 
      - top=30mm
      - left=20mm
##  docx: default
--- 
# Introduction 

# Basic Statistical Hypothesis Tests 
```{python}
import numpy as np 
import pandas as pd
from scipy import stats 
import matplotlib.pyplot as plt

df = pd.read_csv('rodent_2022-2023.csv') 
```

# Normality Tests 
## Shapiro-Wilk Test 
* Used to test normality of a data sample.
* Assumes observations are independent and identically distributed (i.i.d). 

H0: data is drawn from a normal distribution  
H1: data is not drawn from a normal distribution   
```{python}
area = df.groupby('Zip Codes')  
area_counts = area.size()  
res_1 = stats.shapiro(area_counts)
print(res_1)
```  

```{python}
plt.figure()  
plt.hist(area_counts) 
plt.xlabel('Incident Zip') 
plt.ylabel('Frequency') 
plt.show 
``` 

## NormalTest 
* Based on the D'Agostino-Pearson test for assessing normality with shape. 
  + Measures skewness and kurtosis, which is a measure of the heaviness/lightness of the
  tail relative to a normal distribution. 
  + A normal distribution has skewness of 0 and kurtosis of 3.0.  
* Takes an additional parameter for handling null values 
  + Can "propagate" (return nan), "raise" (raise an error), or "omit"(ignore null values). 
```{python} 
res_2 = stats.normaltest(area_counts, nan_policy = 'propagate') 
print(res_2)
```

# Correlation Tests 

# Nonparametric Hypothesis Tests   